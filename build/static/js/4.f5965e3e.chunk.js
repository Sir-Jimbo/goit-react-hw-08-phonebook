(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[4],{139:function(t,e,n){"use strict";var a=n(36),r=function(t){return t.phonebook.filter},c=function(t){return t.phonebook.contacts},o={getLoading:function(t){return t.phonebook.loading},getFilter:r,getVisibleContacts:Object(a.a)([c,r],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),getAllContacts:c,getError:function(t){return t.phonebook.error}};e.a=o},140:function(t,e,n){"use strict";var a=n(2),r=n(47),c=n(48),o=n(50),i=n(49),s=n(0),u=n(155),l=n(12),b=n(139),m=n(20),h=n(4),j=n(13),p=n(141),f=n.n(p),_=function(t){Object(o.a)(n,t);var e=Object(i.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidUpdate",value:function(){var t=this;this.props.errorAuth?setTimeout((function(){t.props.clearErrorAuth(t.state)}),2500):this.props.errorPb&&setTimeout((function(){t.props.clearErrorPb(t.state)}),2500)}},{key:"render",value:function(){return Object(a.jsx)(u.a,{in:this.props.message,timeout:250,classNames:f.a,unmountOnExit:!0,children:Object(a.jsx)("div",{className:f.a.overlay,children:Object(a.jsx)("p",{className:f.a.message,children:this.props.message})})})}}]),n}(s.Component);e.a=Object(j.b)((function(t){return{errorPb:b.a.getError(t),errorAuth:m.a.getError(t)}}),(function(t){return{clearErrorPb:function(){return t(l.e())},clearErrorAuth:function(){return t(h.a.clearError())}}}))(_)},141:function(t,e,n){t.exports={overlay:"Notification_overlay__vCLZg",message:"Notification_message__3r6L5",enter:"Notification_enter__3r5QL",enterActive:"Notification_enterActive__1-Fbs",exit:"Notification_exit__2Fg2g",exitActive:"Notification_exitActive__1iop4"}},146:function(t,e,n){t.exports={container:"ContactForm_container__3JWs-",label:"ContactForm_label__1-XYi",input:"ContactForm_input__R-HtY",button:"ContactForm_button__2b3Y6"}},147:function(t,e,n){t.exports={container:"Filter_container__3oy1e",title:"Filter_title__-RrI_",label:"Filter_label__n7hWY",input:"Filter_input__2fN4d",appear:"Filter_appear__3xmX0",appearActive:"Filter_appearActive__2NGub",exit:"Filter_exit__2TcBP",exitActive:"Filter_exitActive__1HDfX"}},148:function(t,e,n){t.exports={item:"Contact_item__2n5ur",button:"Contact_button__2SJ7e"}},149:function(t,e,n){t.exports={enter:"ContactList_enter__1GZ_z",enterActive:"ContactList_enterActive__2An--",exit:"ContactList_exit__3erp7",exitActive:"ContactList_exitActive__11cu4"}},150:function(t,e,n){t.exports={logo:"Logo_logo__6Yu6W"}},154:function(t,e,n){"use strict";n.r(e);var a=n(2),r=n(47),c=n(48),o=n(50),i=n(49),s=n(0),u=n(13),l=n(3),b=n(25),m=n.n(b),h=n(12),j={fetchContacts:function(){return function(t){t(Object(h.j)()),m.a.get("/contacts").then((function(e){var n=e.data;return t(Object(h.k)(n))})).catch((function(e){return t(Object(h.i)(e))}))}},addContact:function(t,e){return function(n){var a={name:t,number:e};n(Object(h.b)()),m.a.post("/contacts",a).then((function(t){var e=t.data;return n(Object(h.c)(e))})).catch((function(t){return n(Object(h.a)(t.message))}))}},deleteContact:function(t){return function(e){e(Object(h.g)()),m.a.delete("/contacts/".concat(t)).then((function(){return e(Object(h.h)(t))})).catch((function(t){return e(Object(h.f)(t.message))}))}}},p=n(139),f=n(140),_=n(146),d=n.n(_),O=function(t){Object(o.a)(n,t);var e=Object(i.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).state={name:"",number:"",message:null},t.isShowMessage=function(e){t.setState({message:!1}),setTimeout((function(){t.setState({message:null})}),2500)},t.handleChange=function(e){var n=e.currentTarget,a=n.name,r=n.value;t.setState(Object(l.a)({},a,r))},t.handleSubmit=function(e){var n=t.state,a=n.name,r=n.number;e.preventDefault(),""!==a?""!==r?t.props.contacts.find((function(t){return t.name.toLowerCase()===a.toLowerCase()}))?t.isShowMessage("".concat(a," is already in contacts.")):(t.props.onSubmit(a,r),t.reset()):t.isShowMessage("Enter phone, please!"):t.isShowMessage("Enter name, please!")},t.reset=function(){return t.setState({name:"",number:""})},t}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,r=t.message;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(f.a,{message:r}),Object(a.jsxs)("form",{className:d.a.container,onSubmit:this.handleSubmit,children:[Object(a.jsx)("label",{className:d.a.label,children:"Name"}),Object(a.jsx)("input",{className:d.a.input,type:"text",name:"name",placeholder:"enter your name",value:e,onChange:this.handleChange}),Object(a.jsx)("label",{className:d.a.label,children:"Phone number"}),Object(a.jsx)("input",{className:d.a.input,type:"tel",name:"number",placeholder:"enter your number",value:n,onChange:this.handleChange}),Object(a.jsx)("button",{className:d.a.button,type:"submit",children:"Add contact"})]})]})}}]),n}(s.Component),g=Object(u.b)((function(t){return{contacts:p.a.getAllContacts(t)}}),(function(t){return{onSubmit:function(e,n){return t(j.addContact(e,n))}}}))(O),x=n(155),v=n(147),C=n.n(v),N=Object(u.b)((function(t){return{value:p.a.getFilter(t),contacts:p.a.getAllContacts(t)}}),(function(t){return{onChange:function(e){return t(h.d(e.target.value))}}}))((function(t){var e=t.value,n=t.onChange,r=t.contacts;return Object(a.jsx)(x.a,{in:r.length>1,appear:!0,timeout:250,classNames:C.a,unmountOnExit:!0,children:Object(a.jsxs)("div",{className:C.a.container,children:[Object(a.jsx)("h2",{className:C.a.title,children:" Contacts "}),Object(a.jsx)("label",{className:C.a.label,children:"Find contacts by name:"}),Object(a.jsx)("input",{className:C.a.input,placeholder:"search by name",type:"text",value:e,onChange:n})]})})})),y=n(137),A=n(148),F=n.n(A),k=function(t){var e=t.id,n=t.name,r=t.number,c=t.onClick;return Object(a.jsxs)("li",{className:F.a.item,children:[Object(a.jsx)("p",{className:F.a.contact,children:n}),Object(a.jsx)("p",{className:F.a.contact,children:r}),Object(a.jsx)("button",{className:F.a.button,type:"button",onClick:c,children:"x"})]},e)},L=n(149),E=n.n(L),S=Object(u.b)((function(t){return{contacts:p.a.getVisibleContacts(t)}}),(function(t){return{onDeleteContact:function(e){return t(j.deleteContact(e))}}}))((function(t){var e=t.contacts,n=t.onDeleteContact;return Object(a.jsx)(y.a,{component:"ul",className:E.a.list,children:e.map((function(t){var e=t.id,r=t.name,c=t.number;return Object(a.jsx)(x.a,{timeout:250,classNames:E.a,children:Object(a.jsx)(k,{id:e,name:r,number:c,onClick:function(){return n(e)}})},e)}))})})),w=n(150),P=n.n(w),D=function(){return Object(a.jsx)("h1",{className:P.a.logo,children:"Phonebook"})},M=n(33),T=function(t){Object(o.a)(n,t);var e=Object(i.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(D,{}),Object(a.jsx)(f.a,{message:this.props.error}),Object(a.jsx)(g,{}),Object(a.jsx)(N,{}),this.props.isLoadingContacts&&Object(a.jsx)(M.a,{}),Object(a.jsx)(x.a,{in:this.props.contacts.length>0,timeout:0,ommountOnExit:!0,children:Object(a.jsx)(S,{})})]})}}]),n}(s.Component);e.default=Object(u.b)((function(t){return{contacts:p.a.getAllContacts(t),isLoadingContacts:p.a.getLoading(t),error:p.a.getError(t)}}),(function(t){return{fetchContacts:function(){return t(j.fetchContacts())}}}))(T)}}]);
//# sourceMappingURL=4.f5965e3e.chunk.js.map